<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Raghav Kulkarni | Portfolio</title>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --brand-blue: #00638C;
            --text-main: #222;
            --bg-color: #fafafa;
            --radius-main: 16px;
            --radius-pill: 50px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Manrope', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            overflow-x: hidden;
            overscroll-behavior-y: none; 
        }

        /* --- 1. HEADER (Desktop) --- */
        nav {
            position: sticky; top: 0; left: 0; width: 100%;
            background: rgba(255,255,255,0.9); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            padding: 15px 5%;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 100; border-bottom: 1px solid rgba(0,0,0,0.05);
            /* FIX: Prevents items from overlapping if space is tight */
            gap: 20px; 
        }

        /* FIX: Added flex-shrink: 0 so the logo never gets squashed */
        .logo { flex-shrink: 0; }
        .logo img { height: 45px; width: auto; cursor: pointer; display: block; }

        .menu-container {
            display: flex; gap: 8px;
            background: #f0f2f5; padding: 5px; border-radius: var(--radius-pill);
            /* FIX: Ensure menu doesn't break into multiple lines on desktop */
            white-space: nowrap; 
        }

        .cat-btn {
            border: none; background: transparent; padding: 10px 25px;
            font-family: 'Manrope', sans-serif; font-size: 0.9rem; font-weight: 600; color: #777;
            cursor: pointer; transition: all 0.3s ease; border-radius: var(--radius-pill);
        }
        .cat-btn:hover { color: var(--text-main); background: rgba(255,255,255,0.5); }
        .cat-btn.active { color: #fff; background: var(--brand-blue); box-shadow: 0 4px 12px rgba(0, 99, 140, 0.3); }

        .about-btn {
            font-size: 0.9rem; font-weight: 700; color: var(--brand-blue);
            cursor: pointer; margin-left: 20px; text-transform: uppercase; letter-spacing: 1px;
            flex-shrink: 0; /* FIX: Prevents "INFO" button from squashing */
        }

        /* --- 2. THE DYNAMIC GRID --- */
        .gallery-container { padding: 30px 5% 80px; min-height: 90vh; }

        .masonry-wrapper {
            display: flex;
            gap: 30px; 
            align-items: flex-start;
        }

        .masonry-wrapper.wide-gap { gap: 60px; }
        
        .masonry-col {
            flex: 1; display: flex; flex-direction: column; gap: 30px; 
        }
        .masonry-wrapper.wide-gap .masonry-col { gap: 60px; }

        .item {
            position: relative;
            border-radius: var(--radius-main);
            overflow: hidden;
            background: #fff;
            box-shadow: 0 10px 30px rgba(0,0,0,0.06);
            transition: transform 0.3s ease;
            transform: translateZ(0); will-change: transform; 
            cursor: pointer;
        }

        .item:hover { transform: translateY(-5px); }

        .item img {
            width: 100%; height: auto; display: block; 
            opacity: 0; transition: opacity 0.5s ease;
        }
        .item img.loaded { opacity: 1; }

        .item video {
            width: 100%; height: auto; display: block;
            object-fit: cover;
        }

        /* --- 3. LIGHTBOX --- */
        .lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.98); z-index: 2000;
            display: none; justify-content: center; align-items: center;
        }
        .lb-content { position: relative; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        
        .lb-content img { max-width: 95%; max-height: 85vh; object-fit: contain; border-radius: 8px; box-shadow: 0 20px 60px rgba(0,0,0,0.2); }
        .lb-content video { max-width: 90%; max-height: 85vh; border-radius: 8px; box-shadow: 0 20px 60px rgba(0,0,0,0.2); outline: none; }

        .lb-ctrl {
            position: absolute; width: 50px; height: 50px; background: #fff;
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1); cursor: pointer; color: #333;
            font-size: 1.5rem; transition: transform 0.2s, color 0.2s; z-index: 2001;
        }
        .lb-close { top: 30px; right: 30px; }
        .lb-prev { top: 50%; left: 30px; transform: translateY(-50%); }
        .lb-next { top: 50%; right: 30px; transform: translateY(-50%); }

        /* --- 4. ABOUT PANEL --- */
        .about-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 0;
            background: #fff; z-index: 150; overflow: hidden;
            transition: height 0.5s cubic-bezier(0.7, 0, 0.3, 1);
            border-bottom-left-radius: 30px; border-bottom-right-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow-y: auto; 
        }
        .about-panel.open { height: 600px; }
        
        .about-inner {
            max-width: 900px; margin: 0 auto; padding: 80px 20px;
            display: flex; flex-direction: row; gap: 60px; 
            align-items: center; justify-content: center;
        }
        
        .profile-pic { 
            width: 220px; height: 220px; border-radius: 30px; 
            object-fit: cover; box-shadow: 0 20px 50px rgba(0,0,0,0.15); 
            border: 6px solid #fff; flex-shrink: 0;
        }
        
        .bio { max-width: 500px; text-align: left; }
        .bio h2 { margin-bottom: 20px; font-weight: 700; font-size: 2.2rem; color: var(--text-main); }
        .bio p { color: #555; font-size: 1rem; line-height: 1.7; margin-bottom: 15px; }
        
        .contact-btn {
            display: inline-block; text-decoration: none; padding: 12px 30px; background: var(--brand-blue); color: #fff;
            border-radius: var(--radius-pill); font-weight: 600; box-shadow: 0 10px 20px rgba(0, 99, 140, 0.3); transition: transform 0.2s; margin-right: 10px; margin-top: 10px;
        }
        .contact-btn.secondary { background: #f0f2f5; color: #555; box-shadow: none; }

        /* --- RESPONSIVE CONFIGURATION --- */
        /* CHANGED: Increased breakpoint to 1100px to fix overlap on laptops/tablets */
        @media (max-width: 1100px) {
            
            nav { padding: 15px 20px; }
            .about-btn { font-size: 0.8rem; }

            /* Move Menu to Bottom on Tablets & Mobile */
            .menu-container { 
                position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); 
                background: rgba(255,255,255,0.95); backdrop-filter: blur(10px);
                padding: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); 
                z-index: 90; width: 90%; justify-content: center; 
                border: 1px solid rgba(0,0,0,0.05);
            }
            .cat-btn { padding: 10px 10px; font-size: 0.75rem; } 
            
            .gallery-container { padding: 10px 10px 100px; }
            .masonry-wrapper { gap: 10px !important; }
            .masonry-col { gap: 10px !important; }
            .masonry-wrapper.wide-gap { gap: 10px !important; }
            .masonry-wrapper.wide-gap .masonry-col { gap: 10px !important; }

            .about-panel.open { height: 100vh; border-radius: 0; }
            .about-inner { flex-direction: column; text-align: center; padding: 80px 20px 100px; gap: 30px; }
            .bio { text-align: center; }
            .profile-pic { width: 180px; height: 180px; }

            .lb-prev, .lb-next { display: none; }
            .lb-content img { max-width: 100%; }
            .lb-content video { max-width: 100%; }
        }
    </style>
</head>
<body>

    <div class="about-panel" id="aboutPanel">
        <div class="lb-ctrl lb-close" onclick="toggleAbout()">✕</div>
        <div class="about-inner">
            <img src="profile.jpg" class="profile-pic">
            <div class="bio">
                <h2>Raghav Kulkarni</h2>
                <p>More than a photographer, I am a visual artist dedicated to translating concepts into tangible imagery.</p>
                <p>A graduate of MIT WPU (BA Photography), I apply a conceptual and minimalistic approach within a controlled environment. I use light, composition, and technical precision to convert abstract ideas into high-impact commercial visuals.</p>
                <div>
                    <a href="mailto:raghavkulkarniphotography@gmail.com" class="contact-btn">Email Me</a>
                    <a href="tel:+918888248590" class="contact-btn secondary">Call</a>
                </div>
            </div>
        </div>
    </div>

    <nav>
        <div class="logo">
            <img src="logo.png" alt="Raghav Kulkarni" onclick="window.scrollTo(0,0)">
        </div>
        <div class="menu-container">
            <button class="cat-btn active" onclick="loadGrid('product', this)">Product</button>
            <button class="cat-btn" onclick="loadGrid('interior', this)">Interior</button>
            <button class="cat-btn" onclick="loadGrid('corporate', this)">Corporate</button>
            <button class="cat-btn" onclick="loadGrid('commercial', this)">Commercial</button>
        </div>
        <div class="about-btn" onclick="toggleAbout()">Info</div>
    </nav>

    <main class="gallery-container">
        <div class="masonry-wrapper" id="masonryWrapper">
            <div class="masonry-col" id="col-1"></div>
            <div class="masonry-col" id="col-2"></div>
            <div class="masonry-col" id="col-3"></div>
        </div>
    </main>

    <div class="lightbox" id="lightbox">
        <div class="lb-ctrl lb-close" onclick="closeLightbox()">✕</div>
        <div class="lb-ctrl lb-prev" onclick="changeSlide(-1)">&#8249;</div>
        <div class="lb-ctrl lb-next" onclick="changeSlide(1)">&#8250;</div>
        <div class="lb-content" id="lbTouchArea">
            <img src="" id="lbImg" style="display:none;">
            <video src="" id="lbVid" controls style="display:none;"></video>
        </div>
    </div>

    <script>
        // --- DATA ---
        function generatePaths(prefix, count, ext) {
            var paths = [];
            for (var i = 1; i <= count; i++) { paths.push(prefix + i + ext); }
            return paths;
        }

        const portfolioData = {
            product: generatePaths('product', 22, '.webp'),   
            interior: generatePaths('interior', 12, '.webp'), 
            corporate: generatePaths('corporate', 6, '.webp'),
            // UPDATED: Now looks for 5 videos
            commercial: generatePaths('commercial', 5, '.mp4') 
        };

        let currentCategoryImages = [];
        let currentImageIndex = 0;
        let activeCategory = 'product';

        window.onload = function() {
            loadGrid('product', document.querySelector('.cat-btn'));
            
            window.addEventListener('resize', () => {
                 loadGrid(activeCategory, null); 
            });
        };

        // --- GRID LOGIC ---
        function loadGrid(cat, btn) {
            activeCategory = cat;
            if(btn) {
                document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            }
            
            // NOTE: Check against 1100px here to match CSS
            const isMobile = window.innerWidth <= 1100;
            
            const wrapper = document.getElementById('masonryWrapper');
            if (!isMobile && (cat === 'interior' || cat === 'corporate' || cat === 'commercial')) {
                wrapper.classList.add('wide-gap');
            } else {
                wrapper.classList.remove('wide-gap');
            }

            currentCategoryImages = portfolioData[cat];
            
            const col1 = document.getElementById('col-1');
            const col2 = document.getElementById('col-2');
            const col3 = document.getElementById('col-3');
            
            col1.innerHTML = ''; col2.innerHTML = ''; col3.innerHTML = '';
            
            currentCategoryImages.forEach((url, i) => {
                const item = document.createElement('div');
                item.className = 'item';
                
                if (cat === 'commercial') {
                    const vid = document.createElement('video');
                    vid.src = url;
                    vid.muted = true;
                    vid.autoplay = true;
                    vid.loop = true;
                    vid.playsInline = true;
                    vid.onclick = () => openLightbox(i);
                    item.appendChild(vid);
                } else {
                    const img = new Image();
                    img.src = url; img.loading = "lazy";
                    img.onload = () => img.classList.add('loaded');
                    img.onclick = () => openLightbox(i);
                    item.appendChild(img);
                }
                
                if (isMobile) {
                    if (i % 2 === 0) col1.appendChild(item);
                    else col2.appendChild(item);
                    col3.style.display = 'none';
                } else {
                    col3.style.display = 'flex';
                    const remainder = i % 3;
                    if(remainder === 0) col1.appendChild(item);
                    else if(remainder === 1) col2.appendChild(item);
                    else col3.appendChild(item);
                }
            });
        }

        // --- LIGHTBOX LOGIC ---
        function openLightbox(index) {
            currentImageIndex = index;
            updateLightbox();
            document.getElementById('lightbox').style.display = 'flex';
            document.body.style.overflow = 'hidden'; 
        }

        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
            document.body.style.overflow = 'auto'; 
            const vidPlayer = document.getElementById('lbVid');
            vidPlayer.pause();
            vidPlayer.src = "";
        }

        function changeSlide(direction) {
            currentImageIndex += direction;
            if(currentImageIndex < 0) currentImageIndex = currentCategoryImages.length - 1;
            if(currentImageIndex >= currentCategoryImages.length) currentImageIndex = 0;
            updateLightbox();
        }

        function updateLightbox() {
            const lbImg = document.getElementById('lbImg');
            const lbVid = document.getElementById('lbVid');
            const currentUrl = currentCategoryImages[currentImageIndex];

            if (activeCategory === 'commercial') {
                lbImg.style.display = 'none';
                lbVid.style.display = 'block';
                lbVid.src = currentUrl;
                lbVid.play();
            } else {
                lbVid.style.display = 'none';
                lbVid.pause();
                lbImg.style.display = 'block';
                lbImg.src = currentUrl;
            }
        }

        // --- TOUCH SWIPE ---
        let touchStartX = 0; 
        const lbArea = document.getElementById('lbTouchArea');
        lbArea.addEventListener('touchstart', e => touchStartX = e.changedTouches[0].screenX);
        lbArea.addEventListener('touchend', e => {
            if (touchStartX - e.changedTouches[0].screenX > 50) changeSlide(1);
            if (e.changedTouches[0].screenX - touchStartX > 50) changeSlide(-1);
        });

        function toggleAbout() {
            document.getElementById('aboutPanel').classList.toggle('open');
        }

        document.addEventListener('keydown', e => {
            if(document.getElementById('lightbox').style.display === 'flex') {
                if(e.key === "Escape") closeLightbox();
                if(e.key === "ArrowRight") changeSlide(1);
                if(e.key === "ArrowLeft") changeSlide(-1);
            }
        });
    </script>
</body>
</html>
